<?xml version="1.0" encoding="UTF-8"?>

<intent xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="intent.xsd">
    <meta>
        <name>Dynamic Network Connection</name>
        <validation>
            <constraint>
                <name>string</name>
                <regex>\S+</regex>
                <message>Please enter a valid string.</message>
            </constraint>
            <constraint>
                <name>vlan</name>
                <regex>^\d{4}$|^\d{4}-\d{4}$|^any$</regex>
                <message>Please enter a valid VLAN.</message>
            </constraint>
        </validation>
    </meta>
    <stage name="Connections">
        <input>
            <name>Type</name>
            <type>select</type>
            <options>
                <option>Multi-Path P2P VLAN</option>
                <option>Multi-Point VLAN Bridge</option>
            </options>
        </input>
        <group factory="true" name="connection" collapsible="true">
            <input>
                <name>Name</name>
                <type>text</type>
                <valid>string</valid>
            </input>
            <group factory="true" name="terminal">
                <input>
                    <name>URI</name>
                    <type>text</type>
                    <size>large</size>
                    <valid>string</valid>
                </input>
                <input>
                    <name>VLAN Tag</name>
                    <type>text</type>
                    <size>small</size>
                    <default>any</default>
                    <valid>vlan</valid>
                </input>
            </group>            
        </group>
    </stage>
</intent>
